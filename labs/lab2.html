<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="">
    <meta name="author" content="">

    <title>Lab 2 - Client-Server Interaction with DOM Manipulation</title>

    <!-- Bootstrap core CSS -->
    <link href="http://netdna.bootstrapcdn.com/bootstrap/3.0.0/css/bootstrap.min.css" rel="stylesheet">

    <!-- Custom styles for this template -->
    <link href="../css/labs.css" rel="stylesheet">

    <!-- HTML5 shim and Respond.js IE8 support of HTML5 elements and media queries -->
    <!--[if lt IE 9]>
      <script src="../../assets/js/html5shiv.js"></script>
      <script src="../../assets/js/respond.min.js"></script>
    <![endif]-->
    <style type="text/css" media="screen">
      #labWorkspace {
        padding: 20px;
      }
    </style>
  </head>

  <body>

    <!-- Wrap all page content here -->
    <div id="wrap">
      <!-- Begin page content -->
      <div class="container">
          <div class="page-header">
            <h1>Lab 2 - Client-Server Interaction with DOM Manipulation</h1>
          </div>
          <p class="lead">
            For the following exercises, we will be using an inline editor and manipulating DOM elements on this page. 
            The editor and DOM region are located on the right-hand side of this page.</br>
            Write your code in the editor, and press the "Run" button to execute the code.</br>
            </br>
            Whenever a question asks you to "print" something, use console.log()</br>
            To see the output, right-click on your browser window, select "Inspect Element", and navigate to the "Console" tab to view the output.</br>
            </br>
            Try to resist the temptation to view the answer before completing the question!</br>
            </br>
            Feel free to use the following resources for additonal help:</br>
            <a href="http://api.jquery.com/jQuery.ajax/" target="_blank">-JQuery ajax() documentation page</a></br>
            </br>
            To execute an AJAX Request in JavaScript, use JQuery's ajax() method.</br>
            </br>
            We will be running our own local version of the REST API (built on Node.js)</br>
            </br>
            TODO: Instructions for how to install node dependencies</br>
            TODO: Instructions for how to run the server</br>
            </br>
            The base URL for the REST API we will be using is <a href="http://localhost:3000/api">http://localhost:3000/api</a></br>
            </br>
            </br>
            For example, to retrieve a list of shapes you would write the following code:</br>
            <pre><code>
            $.ajax({ </br>
                url : "http://localhost:3000/api/shapes",</br>
                method : 'GET',</br>
                success : function(response) {</br>
                  var shapes = response.data;</br>
                  shapes.forEach(function(shape) {</br>
                    console.log(shape.name); // Output: "Triangle"</br>
                    console.log(shape.numSides); // Output: 3</br>
                  })</br>
                }</br>
            });</br>
            </code></pre>
            </br>
            <p class="lead">
              For example, to retrieve the shape with id = 1, you would write the following code:</br>
              <pre><code>
              $.ajax({ </br>
                  url : "http://localhost:3000/api/shapes/1",</br>
                  method : 'GET',</br>
                  success : function(response) {</br>
                    var shape = response.data;</br>
                    console.log(shape.name); // Output: "Triangle"</br>
                    console.log(shape.numSides); // Output: 3</br>
                  }</br>
              });</br>
              </code></pre>
            </p>
          </p>
          <ol class="question-list">
            <li class="question">
              <p>Write an HTTP GET request to retrieve the list of employees and populate the table.</p>
              <p>The list of employees is retrieved at the API route <strong>/employees</strong></p>
              <button type="button" class="btn btn-xs btn-success btn-answer">View Answer</button>
            </li>

            <li class="question">
              <p>If you glance below the table, you will see a form called "Add New Employee". This is used to add new employees to the table.</p>
              <p>Right now, if you click on the "Add" button, nothing will happen.</p>
              <p>Implement the functionality so that when the user fills out the form and clicks "Add" the new user will be added to the database via the REST API, and a new row will be added to the table.</br>
                </br>
                Hints:</br>
                <ul>
                  <li>Use the JQuery <em>.click()</em> method to bind to a button's 'click' event</li>
                  <li>Use the JQuery <em>.val()</em> function to extract the value of a form input element</li>
                  <li>Your code must make an HTTP POST request to the <strong>/employees</strong> route with the parameters</li>
                  <li>You must wait on the response from the server before appending the user entry row to table</li>                  
                </ul>
              </p>
              <button type="button" class="btn btn-xs btn-success btn-answer">View Answer</button>
            </li>

            <li class="question">
              <p>Write an HTTP DELETE request</p>        
            </li>
          </ol>
      </div> <!-- End of container -->
    </div>  <!-- End of wrap -->

    <div id="footer">
      <div class="container">
        <p class="text-muted credit">Modern Web Development with JavaScript - <span class='black'>&copy Rohit Kalkur</span></p>
      </div>
    </div>


    <!-- Bootstrap core JavaScript
    ================================================== -->
    <!-- Placed at the end of the document so the pages load faster -->
    <script src="http://code.jquery.com/jquery-1.10.1.min.js"></script>
    <script src="http://ajaxorg.github.com/ace-builds/src/ace.js" type="text/javascript" charset="utf-8"></script>
    <script type="text/javascript">
      /* Editor Options */
      var twilightTheme = "ace/theme/twilight",
          mode = "ace/mode/javascript";

      // /* Create and Set-up Editors */
      var editor = ace.edit("editor");
      editor.setTheme(twilightTheme);
      editor.getSession().setMode(mode);
      editor.getSession().setUseSoftTabs(false);
      editor.getSession().setTabSize(4);

      // var editor2 = ace.edit("editor2");
      // editor2.setTheme(twilightTheme);
      // editor2.getSession().setMode(mode);
      // editor2.getSession().setUseSoftTabs(false);
      // editor2.getSession().setTabSize(4);

      // var editor3 = ace.edit("editor3");
      // editor3.setTheme(twilightTheme);
      // editor3.getSession().setMode(mode);
      // editor3.getSession().setUseSoftTabs(false);
      // editor3.getSession().setTabSize(4);
    </script>
  </body>
</html>
